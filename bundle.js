(()=>{var e={105:(e,t,i)=>{"use strict";e.exports=i.p+"assets/images/carrier.1d736df32465e10d8f7b.svg"},138:e=>{const t={Carrier:5,Battleship:4,Destroyer:3,Submarine:3,Cruiser:2};e.exports=class{constructor(e){this.name=e,this.length=t[this.name],this.hitCount=0,this.head=null,this.direction=null}hit(){this.isSunk()||this.hitCount++}isSunk(){return this.hitCount===this.length}}},235:(e,t,i)=>{"use strict";e.exports=i.p+"assets/images/battleship.ff5d7d7f9b5be667ca1d.svg"},249:(e,t,i)=>{"use strict";e.exports=i.p+"assets/images/submarine.93e5c2ccf0f99354abf7.svg"},268:(e,t,i)=>{"use strict";e.exports=i.p+"assets/images/cruiser.e6fcd10b2dd065ebb455.svg"},317:(e,t,i)=>{i(138),i(914),e.exports=class{constructor(e="",t,i){this.type=""===e?"Computer":"Human",this.name=e||"Computer",this.fleet=t,this.board=i,this.aiState={mode:"hunt",lastHit:null,targetQueue:[],hitShips:[],allHits:[],knownWater:new Set},this.lastAttack=null}attack(e,t,i){return e.board.receiveAttack(t,i)}AIAttack(e){let t,i,s=0;if("target"===this.aiState.mode&&this.aiState.targetQueue.length>0){let a=!1;for(;this.aiState.targetQueue.length>0&&!a&&s<100;){const n=this.aiState.targetQueue.shift();t=n.row,i=n.column,s++,e.board.isValidCoordinate(t,i)&&!e.board.isAttackedBefore(t,i)&&(a=!0)}a||(this.aiState.mode="hunt",this.aiState.targetQueue=[],this.aiState.hitShips=[])}if("hunt"===this.aiState.mode||void 0===t||void 0===i){let a=!1;do{t=Math.floor(Math.random()*e.board.size),i=Math.floor(Math.random()*e.board.size),s++;const n=`${t},${i}`,r=this.aiState.knownWater.has(n);a=!e.board.isAttackedBefore(t,i)&&!r}while(!a&&s<100)}this.lastAttack={row:t,column:i};const a=e.board.receiveAttack(t,i);return this.processAttackResult(a,t,i,e),a}processAttackResult(e,t,i,s){this.aiState.allHits.push({row:t,column:i,result:"miss"===e?"miss":"hit"}),e&&"miss"!==e&&(this.aiState.lastHit={row:t,column:i},this.aiState.hitShips.push({row:t,column:i}),e.isSunk&&e.isSunk()?(this.markSurroundingCellsAsWater(e,s.board),this.aiState.hitShips=[],0===this.aiState.targetQueue.length&&(this.aiState.mode="hunt")):(this.aiState.mode="target",1===this.aiState.hitShips.length?this.addOrthogonalTargets(t,i,s.board):this.aiState.hitShips.length>=2&&this.targetAlongShipLine(s.board)))}addOrthogonalTargets(e,t,i){[{row:-1,column:0},{row:1,column:0},{row:0,column:-1},{row:0,column:1}].forEach((s=>{const a=e+s.row,n=t+s.column;i.isValidCoordinate(a,n)&&(this.aiState.targetQueue.some((e=>e.row===a&&e.column===n))||this.aiState.targetQueue.push({row:a,column:n}))}))}targetAlongShipLine(e){const t=this.aiState.hitShips;if(t.length<2)return;let i=!1,s=!1;const a=t[0].row;if(t.every((e=>e.row===a)))i=!0;else{const e=t[0].column;t.every((t=>t.column===e))&&(s=!0)}if(i||s)if(this.aiState.targetQueue=[],i){const i=a,s=Math.min(...t.map((e=>e.column))),n=Math.max(...t.map((e=>e.column)));e.isValidCoordinate(i,s-1)&&this.aiState.targetQueue.push({row:i,column:s-1}),e.isValidCoordinate(i,n+1)&&this.aiState.targetQueue.push({row:i,column:n+1})}else if(s){const i=t[0].column,s=Math.min(...t.map((e=>e.row))),a=Math.max(...t.map((e=>e.row)));e.isValidCoordinate(s-1,i)&&this.aiState.targetQueue.push({row:s-1,column:i}),e.isValidCoordinate(a+1,i)&&this.aiState.targetQueue.push({row:a+1,column:i})}}markSurroundingCellsAsWater(e,t){const i=t.getShipCells(e.head.row,e.head.column,e.length,e.direction),s=new Set;i.forEach((e=>{t.getSurroundingCells(e.row,e.column).forEach((e=>{const t=`${e.row},${e.column}`;s.add(t),this.aiState.knownWater.add(t)}))})),this.aiState.targetQueue=this.aiState.targetQueue.filter((e=>{const t=`${e.row},${e.column}`;return!s.has(t)}))}placeShipsRandomly(){return"Computer"===this.type&&(this.fleet.forEach((e=>{let t=!1,i=0;for(;!t&&i<100;){const s=Math.floor(Math.random()*this.board.size),a=Math.floor(Math.random()*this.board.size),n=Math.random()<.5?"horizontal":"vertical";t=this.board.placeShip(e,s,a,n),i++}if(!t)return!1})),!0)}}},382:(e,t,i)=>{"use strict";e.exports=i.p+"assets/images/destroyer.27c27489da3b0404e01b.svg"},595:(e,t,i)=>{"use strict";i.r(t)},762:(e,t,i)=>{const s=i(317),a=i(914),n=i(138);e.exports=class{constructor(){this.players=[],this.currentPlayerIndex=0,this.phase="setup",this.over=!1,this.winner=null,this.againstAI=!1,this.boardSize=10}setup(e){const t=new s(e||"Player",this.createFleet(),this.createBoard(this.boardSize));t.type="Human",this.players.push(t);const i=new s("",this.createFleet(),this.createBoard(this.boardSize));i.type="Computer",this.players.push(i),this.againstAI&&"Computer"===this.players[1].type&&this.players[1].placeShipsRandomly(),this.currentPlayerIndex=0,this.phase="setup"}setGameType(e){this.againstAI="single"===e}setPlayer(e,t){this.players.push(new s(e,this.createFleet(),this.createBoard(t)))}setBoardSize(e){this.boardSize=e}createFleet(){return[new n("Carrier"),new n("Battleship"),new n("Destroyer"),new n("Submarine"),new n("Cruiser")]}createBoard(){return new a(this.boardSize)}getCurrentPlayer(){return this.players[this.currentPlayerIndex]}getOpponent(){return this.players[1-this.currentPlayerIndex]}switchTurn(){this.currentPlayerIndex=1-this.currentPlayerIndex}startPlaying(){this.phase="playing",this.currentPlayerIndex=0}makeMove(e,t){if("playing"!==this.phase||this.over)return!1;const i=this.getCurrentPlayer(),s=this.getOpponent();if("Human"!==i.type)return!1;if(s.board.isAttackedBefore(e,t))return!1;const a=i.attack(s,e,t);return s.board.allShipsSunk()?(this.over=!0,this.winner=i,this.phase="gameOver",a):("miss"===a&&this.switchTurn(),a)}makeAIMove(){if("playing"!==this.phase||this.over)return null;const e=this.getCurrentPlayer(),t=this.getOpponent();if("Computer"!==e.type)return null;const i=e.AIAttack(t);return i?t.board.allShipsSunk()?(this.over=!0,this.winner=e,this.phase="gameOver",{result:i,row:null,column:null,gameOver:!0}):("miss"===i&&this.switchTurn(),{result:i,row:e.lastAttack?.row,column:e.lastAttack?.column,gameOver:!1}):null}turn(){return this.getCurrentPlayer()}}},913:(e,t,i)=>{const s=i(268),a=i(382),n=i(249),r=i(235),o=i(105);e.exports=class{constructor(){this.forms={gameType:document.getElementById("game-type-form"),boardSize:document.getElementById("board-size-form"),playerNames:document.getElementById("player-names-form")},this.gameContainer=document.getElementById("game-container"),this.fleetContainer=document.querySelector(".fleet-container"),this.fleetElement=document.querySelector(".fleet-container .fleet"),this.main=document.querySelector("main"),this.players={playerOne:document.querySelector("#player-one"),playerTwo:document.querySelector("#player-two")},this.boards={playerOne:this.players.playerOne.querySelector(".game-board"),playerTwo:this.players.playerTwo.querySelector(".game-board")},this.names={playerOne:this.players.playerOne.querySelector(".player-name"),playerTwo:this.players.playerTwo.querySelector(".player-name")},this.welcomeDialog=document.getElementById("welcome-dialog"),this.initializeWelcomeDialog(),this.turnIndicator=document.getElementById("turn-indicator"),this.turnText=document.getElementById("turn-text"),this.notificationContainer=document.getElementById("notification-container")}initializeWelcomeDialog(){if(!this.welcomeDialog)return;localStorage.getItem("battleship-welcome-seen")||this.showWelcomeDialog();const e=document.getElementById("close-welcome"),t=document.getElementById("start-game"),i=document.getElementById("skip-tutorial");e&&e.addEventListener("click",(()=>this.hideWelcomeDialog())),t&&t.addEventListener("click",(()=>{this.hideWelcomeDialog(),this.markWelcomeSeen()})),i&&i.addEventListener("click",(()=>{this.hideWelcomeDialog(),this.markWelcomeSeen()})),this.welcomeDialog.addEventListener("click",(e=>{e.target===this.welcomeDialog&&(this.hideWelcomeDialog(),this.markWelcomeSeen())})),document.addEventListener("keydown",(e=>{"Escape"!==e.key||this.welcomeDialog.classList.contains("hidden")||(this.hideWelcomeDialog(),this.markWelcomeSeen())}));const s=document.getElementById("help-button");s&&s.addEventListener("click",(()=>{this.showWelcomeDialog()}))}showWelcomeDialog(){this.welcomeDialog&&this.welcomeDialog.classList.remove("hidden")}hideWelcomeDialog(){this.welcomeDialog&&this.welcomeDialog.classList.add("hidden")}markWelcomeSeen(){localStorage.setItem("battleship-welcome-seen","true")}resetWelcomeDialog(){localStorage.removeItem("battleship-welcome-seen"),this.showWelcomeDialog()}getCellId(e,t,i){return`player-${e.toLowerCase()}-${t},${i}`}getShipData(e){return{isHorizontal:"horizontal"===e.dataset.direction,length:Number(e.dataset.length),boardSize:Number(this.boards.playerOne.dataset.size)}}getShipCells(e,t,i,s,a=null){const n=[];for(let r=0;r<i;r++){const i=s?e:e+r,o=s?t+r:t;(!a||i>=0&&i<a&&o>=0&&o<a)&&n.push({row:i,column:o})}return n}isValidCoordinate(e,t,i){return e>=0&&e<i&&t>=0&&t<i}modifyShipCells(e,t,i,s,a=!0){const{isHorizontal:n,length:r,boardSize:o}=this.getShipData(i);this.getShipCells(e,t,r,n,o).forEach((e=>{const t=document.getElementById(this.getCellId("One",e.row,e.column));t&&(a?t.classList.add(s):t.classList.remove(s))}))}handleFormEvents(e,t,i){this.createFormHandlers(e,t,i)}createFormHandlers(e,t,i){let s,a,n;this.forms.gameType.addEventListener("submit",(t=>{t.preventDefault(),this.forms.gameType.classList.toggle("hidden"),this.forms.boardSize.classList.toggle("hidden"),s=this.forms.gameType.elements["game-type"].value,e(s)})),this.forms.boardSize.addEventListener("submit",(e=>{e.preventDefault(),this.forms.boardSize.classList.toggle("hidden"),this.forms.playerNames.classList.toggle("hidden"),a=Number(this.forms.boardSize.elements["board-size"].value),t(a)})),this.forms.playerNames.addEventListener("submit",(e=>{e.preventDefault(),this.forms.playerNames.classList.toggle("hidden"),this.gameContainer.classList.toggle("hidden"),this.fleetContainer.classList.toggle("hidden"),this.main.querySelector(".change-direction").classList.toggle("hidden"),n=this.forms.playerNames.elements["player-one-name"].value,i(n,"")}))}drawGameBoards(e,t,i){this.names.playerOne.textContent=t.toUpperCase()||"PLAYER ONE",this.names.playerTwo.textContent=i.toUpperCase()||"AI",this.boards.playerOne.innerHTML="",this.boards.playerTwo.innerHTML="",this.boards.playerOne.dataset.size=e,this.boards.playerTwo.dataset.size=e,[{board:this.boards.playerOne,prefix:"player-one"},{board:this.boards.playerTwo,prefix:"player-two"}].forEach((({board:t,prefix:i})=>{for(let s=0;s<e;s++){const a=document.createElement("div");a.classList.add("row");for(let t=0;t<e;t++){const e=document.createElement("div");e.classList.add("cell"),e.draggable=!1,e.id=`${i}-${s},${t}`,e.dataset.row=s,e.dataset.column=t,a.appendChild(e)}t.appendChild(a)}}))}drawFleet(e){this.fleetElement.innerHTML="";const t={cruiser:s,destroyer:a,submarine:n,battleship:r,carrier:o};e.forEach((e=>{const i=document.createElement("div");i.classList.add("ship"),i.draggable=!0,i.dataset.length=e.length,i.dataset.type=e.name.toLowerCase(),i.dataset.direction="horizontal",i.innerHTML=`\n        <span class="name">${e.name.toUpperCase()}</span>\n        <img class="view" width="100" height="50" src="${t[e.name.toLowerCase()]}" alt="${e.name}">\n      `,this.fleetElement.appendChild(i)}))}handleDragEvents(e){const t=e.fleet,i=e.board;let s=null,a=null;this.fleetElement.addEventListener("dragstart",(e=>{const t=e.target.closest(".ship");if(t){s=t,s.classList.add("dragging");const i=document.createElement("div");i.style.opacity="0",document.body.appendChild(i),e.dataTransfer.setDragImage(i,0,0),requestAnimationFrame((()=>{document.body.removeChild(i)}))}})),this.boards.playerOne.addEventListener("dragover",(e=>{e.preventDefault();const t=document.elementFromPoint(e.clientX,e.clientY);t&&t.classList.contains("cell")&&s&&(a&&a!==t&&this.clearPosition(a,s),this.isPositionAvailable(t,s)?this.showPosition(t,s,"valid"):this.showPosition(t,s,"invalid"),a=t)})),this.boards.playerOne.addEventListener("drop",(n=>{n.preventDefault();const r=document.elementFromPoint(n.clientX,n.clientY);if(r&&r.classList.contains("cell")&&s&&a&&a.classList.contains("valid")){const n=t.find((e=>e.name.toLowerCase()===s.dataset.type));i.placeShip(n,Number(r.dataset.row),Number(r.dataset.column),s.dataset.direction),e.fleet.splice(e.fleet.indexOf(n),1);const{isHorizontal:o,length:l}=this.getShipData(s),h=Number(r.dataset.row),c=Number(r.dataset.column);this.getShipCells(h,c,l,o).forEach((e=>{const t=document.getElementById(this.getCellId("One",e.row,e.column));t&&t.classList.add("ship-part")})),this.fleetElement.removeChild(s),r.appendChild(s),0===e.fleet.length&&this.fleetContainer.classList.add("hidden"),this.clearPosition(a,s),s.classList.remove("dragging"),a=null,s=null}})),this.fleetElement.addEventListener("dragend",(e=>{a&&this.clearPosition(a,s),s.classList.remove("dragging"),s=null,a=null}))}isPositionAvailable(e,t){const{isHorizontal:i,length:s,boardSize:a}=this.getShipData(t),n=Number(e.dataset.row),r=Number(e.dataset.column);if(!this.isValidCoordinate(n,r,a)||!i&&n+s>a||i&&r+s>a)return!1;const o=this.getShipCells(n,r,s,i);for(const e of o){const t=document.getElementById(this.getCellId("One",e.row,e.column));if(t&&t.classList.contains("ship-part"))return!1}for(const e of o)for(let t=-1;t<=1;t++)for(let i=-1;i<=1;i++){if(0===t&&0===i)continue;const s=e.row+t,n=e.column+i;if(this.isValidCoordinate(s,n,a)){const e=document.getElementById(this.getCellId("One",s,n));if(e&&e.classList.contains("ship-part"))return!1}}return!0}showPosition(e,t,i){const s=Number(e.dataset.row),a=Number(e.dataset.column);this.modifyShipCells(s,a,t,i,!0)}clearPosition(e,t){const i=Number(e.dataset.row),s=Number(e.dataset.column);this.modifyShipCells(i,s,t,"valid",!1),this.modifyShipCells(i,s,t,"invalid",!1)}handleRotation(){const e=this.main.querySelector(".change-direction");e.addEventListener("click",(()=>{this.changeDirection(e)}))}changeDirection(e){const t=this.fleetElement.querySelectorAll(".ship");"horizontal"===e.querySelector(".direction-icon").dataset.direction?(e.querySelector(".direction-icon").dataset.direction="vertical",e.querySelector(".direction-text").textContent="Vertical"):(e.querySelector(".direction-icon").dataset.direction="horizontal",e.querySelector(".direction-text").textContent="Horizontal"),t.forEach((t=>{t.dataset.direction=e.querySelector(".direction-icon").dataset.direction}))}handleAttackEvents(e){this.boards.playerTwo.addEventListener("click",(t=>{const i=t.target.closest(".cell");i&&e(Number(i.dataset.row),Number(i.dataset.column))}))}renderShot(e,t,i,s){const a=document.getElementById(this.getCellId(e,i,s));a&&(a.classList.remove("miss","hit","shot"),"miss"===t?a.classList.add("miss"):a.classList.add("hit"),a.classList.add("shot"))}renderWarning(e="Invalid move!"){this.showNotification(e,"warning",2e3)}renderSunkShip(e,t){const i=e.head.row,l=e.head.column,h={cruiser:s,destroyer:a,submarine:n,battleship:r,carrier:o},c="horizontal"===e.direction;this.getShipCells(i,l,e.length,c).forEach(((i,s)=>{const a=document.getElementById(this.getCellId(t,i.row,i.column));if(a&&(a.classList.add("sunk"),a.classList.add("ship-part"),0===s)){a.innerHTML="";const t=document.createElement("div");t.classList.add("ship","sunk-ship"),t.dataset.length=e.length,t.dataset.type=e.name.toLowerCase(),t.dataset.direction=e.direction,t.innerHTML=`\n            <span class="name">${e.name.toUpperCase()}</span>\n            <img class="view" width="100" height="50" src="${h[e.name.toLowerCase()]}" alt="${e.name}">\n          `,a.appendChild(t)}}))}showGameOver(e){this.main.innerHTML="";const t=document.createElement("div");t.classList.add("game-over"),t.innerHTML=`\n      <h2>Game Over!</h2>\n      <p>${e.name} wins!</p>\n      <button onclick="location.reload()">Play Again</button>\n    `,this.main.appendChild(t)}showTurnIndicator(e,t=!1){this.turnIndicator&&this.turnText&&(this.turnText.textContent=t?"AI Thinking...":`${e}'s Turn`,t?this.turnIndicator.classList.add("ai-turn"):this.turnIndicator.classList.remove("ai-turn"),this.turnIndicator.classList.remove("hidden"))}hideTurnIndicator(){this.turnIndicator&&this.turnIndicator.classList.add("hidden")}showNotification(e,t="info",i=3e3){if(!this.notificationContainer)return;const s=document.createElement("div");s.className=`notification ${t}`;const a={success:"✅",info:"ℹ️",warning:"⚠️",error:"❌"};return s.innerHTML=`\n      <div class="notification-content">\n        <span class="notification-icon">${a[t]||a.info}</span>\n        <span class="notification-text">${e}</span>\n      </div>\n      <button class="notification-close">&times;</button>\n    `,s.querySelector(".notification-close").addEventListener("click",(()=>{this.removeNotification(s)})),this.notificationContainer.appendChild(s),setTimeout((()=>{s.classList.add("show")}),10),i>0&&setTimeout((()=>{this.removeNotification(s)}),i),s}removeNotification(e){e&&(e.classList.remove("show"),setTimeout((()=>{e.parentNode&&e.parentNode.removeChild(e)}),700))}clearNotifications(){this.notificationContainer&&(this.notificationContainer.innerHTML="")}}},914:e=>{e.exports=class{constructor(e){this.size=e,this.grid=Array.from({length:this.size},(()=>Array(this.size).fill(null))),this.ships=[],this.attacks={hit:new Set,miss:new Set}}isValidCoordinate(e,t){return e>=0&&e<this.size&&t>=0&&t<this.size}getShipCells(e,t,i,s){const a=[];for(let n=0;n<i;n++)"horizontal"===s?a.push({row:e,column:t+n}):a.push({row:e+n,column:t});return a}getSurroundingCells(e,t){const i=[];for(let s=-1;s<=1;s++)for(let a=-1;a<=1;a++){if(0===s&&0===a)continue;const n=e+s,r=t+a;this.isValidCoordinate(n,r)&&i.push({row:n,column:r})}return i}placeShip(e,t,i,s){return!(!this.isValidCoordinate(t,i)||"vertical"===s&&t+e.length>this.size||"horizontal"===s&&i+e.length>this.size||!this.isEmpty(e,t,i,s))&&(e.head={row:t,column:i},e.direction=s,this.getShipCells(t,i,e.length,s).forEach((t=>{this.grid[t.row][t.column]=e})),this.ships.push(e),!0)}isEmpty(e,t,i,s){const a=this.getShipCells(t,i,e.length,s);for(const e of a)if(!this.isValidCoordinate(e.row,e.column)||null!==this.grid[e.row][e.column])return!1;for(const e of a){const t=this.getSurroundingCells(e.row,e.column);for(const e of t)if(null!==this.grid[e.row][e.column])return!1}return!0}receiveAttack(e,t){return!(!this.isValidCoordinate(e,t)||this.isAttackedBefore(e,t))&&(this.grid[e][t]?(this.attacks.hit.add(`${e},${t}`),this.grid[e][t].hit()):this.attacks.miss.add(`${e},${t}`),this.grid[e][t]||"miss")}isAttackedBefore(e,t){return this.attacks.hit.has(`${e},${t}`)||this.attacks.miss.has(`${e},${t}`)}allShipsSunk(){return this.ships.every((e=>!0===e.isSunk()))}}},980:(e,t,i)=>{const s=i(762),a=i(913);e.exports=class{constructor(){this.game=new s,this.view=new a,this.isWaitingForAI=!1}processAttackResult(e,t,i,s){return this.view.renderShot(e,t,i,s),t&&"miss"!==t&&t.isSunk&&t.isSunk()&&this.view.renderSunkShip(t,e),!this.game.over||(this.view.showGameOver(this.game.winner),!1)}setup(e,t,i){this.view.createFormHandlers(e,t,i)}setGameType(e){this.game.setGameType(e)}setBoardSize(e){this.game.setBoardSize(e)}initializeGame(e,t){this.game.setup(e,t),this.view.drawGameBoards(this.game.boardSize,e,t),this.view.drawFleet(this.game.players[0].fleet),this.view.handleDragEvents(this.game.players[0]),this.view.handleRotation(),this.view.showNotification("Drag and drop your ships onto the board to begin!","info",5e3),this.setupShipPlacementHandler()}setupShipPlacementHandler(){const e=()=>{const e=this.game.players[0].fleet.length;0===e?(this.view.showNotification("All ships placed! Preparing AI fleet...","success",2e3),setTimeout((()=>{this.startBattlePhase()}),1e3)):e<=2&&this.view.showNotification(`${e} ship${e>1?"s":""} remaining to place.`,"info",2e3)},t=this.view.handleDragEvents.bind(this.view);this.view.handleDragEvents=i=>{t(i),this.view.boards.playerOne.addEventListener("drop",(t=>{setTimeout((()=>{e()}),100)}))},this.view.handleDragEvents(this.game.players[0]),setTimeout((()=>{e()}),500)}startBattlePhase(){this.game.startPlaying(),this.view.fleetContainer.classList.add("hidden"),this.view.main.querySelector(".change-direction").classList.add("hidden");const e=this.game.getCurrentPlayer();this.view.showTurnIndicator(e.name,"Computer"===e.type),this.view.showNotification("Battle has begun! Click on enemy cells to attack.","info",4e3),this.view.handleAttackEvents(((e,t)=>this.playTurn(e,t)))}playTurn(e,t){if(this.isWaitingForAI||this.game.over||"playing"!==this.game.phase)return void(this.isWaitingForAI&&this.view.showNotification("Please wait for AI to finish its turn.","warning",2e3));const i=this.game.makeMove(e,t);if(!1!==i)if("miss"===i?this.view.showNotification("Miss! Shot landed in water.","info",2e3):i&&"miss"!==i&&(i.isSunk&&i.isSunk()?this.view.showNotification(`Direct hit! ${i.name} destroyed!`,"success",3e3):this.view.showNotification("Direct hit! Enemy ship damaged.","success",2e3)),this.processAttackResult("Two",i,e,t)){if(this.game.againstAI&&"Computer"===this.game.getCurrentPlayer().type){const e=this.game.getCurrentPlayer();this.view.showTurnIndicator(e.name,!0),this.handleAITurn()}}else this.view.hideTurnIndicator();else this.view.showNotification("Invalid move! Cell already attacked or out of bounds.","warning",2e3)}handleAITurn(){this.isWaitingForAI=!0,setTimeout((()=>{const e=this.game.makeAIMove();if(e&&e.result){const{result:t,row:i,column:s}=e,a=`${String.fromCharCode(65+i)}${s+1}`;if("miss"===t?this.view.showNotification(`AI attacked ${a} - Miss!`,"info",2e3):t&&"miss"!==t&&(t.isSunk&&t.isSunk()?this.view.showNotification(`AI attacked ${a} - Your ${t.name} was destroyed!`,"error",3e3):this.view.showNotification(`AI attacked ${a} - Your ship was hit!`,"warning",2e3)),!this.processAttackResult("One",t,i,s))return this.isWaitingForAI=!1,void this.view.hideTurnIndicator();if("miss"!==t&&"Computer"===this.game.getCurrentPlayer().type)setTimeout((()=>this.handleAITurn()),1e3);else{this.isWaitingForAI=!1;const e=this.game.players[0];this.view.showTurnIndicator(e.name,!1)}}else{this.isWaitingForAI=!1;const e=this.game.players[0];this.view.showTurnIndicator(e.name,!1)}}),500)}handleDragEvents(){this.view.handleDragEvents(this.game)}makeAttack(e,t){this.playTurn(e,t)}checkGameOver(){return this.game.over}}}},t={};function i(s){var a=t[s];if(void 0!==a)return a.exports;var n=t[s]={exports:{}};return e[s](n,n.exports,i),n.exports}i.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),i.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{var e;i.g.importScripts&&(e=i.g.location+"");var t=i.g.document;if(!e&&t&&(t.currentScript&&"SCRIPT"===t.currentScript.tagName.toUpperCase()&&(e=t.currentScript.src),!e)){var s=t.getElementsByTagName("script");if(s.length)for(var a=s.length-1;a>-1&&(!e||!/^http(s?):/.test(e));)e=s[a--].src}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/^blob:/,"").replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),i.p=e})(),i(595);const s=new(i(980));s.setup((e=>{s.setGameType(e)}),(e=>{s.setBoardSize(e)}),((e,t)=>{s.initializeGame(e,t)}))})();
//# sourceMappingURL=bundle.js.map